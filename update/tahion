#!/bin/bash
###############################################
##  tahioN - Shell Capabilities Matrix       ##
##  (c) kofany & yooz                        ##
###############################################

# Cyberpunk color scheme
CYAN='\033[0;36m'
YELLOW='\033[1;33m'
GREEN='\033[0;32m'
RED='\033[0;31m'
GRAY='\033[0;90m'
MAGENTA='\033[0;35m'
NC='\033[0m'

# Cyberpunk prompt
PRM="${CYAN}║${NC} ${YELLOW}⚡${NC} "

# Check if Polish version requested
if [ "$1" = "pl" ]; then
    # Polish version with detailed explanations
    echo -e "${CYAN}╔═══[${YELLOW}⚡ tahioN SHELL MATRIX - POLSKI${CYAN}]${NC}"
    echo -e "${CYAN}║${NC}"
    echo -e "${CYAN}║${NC} ${YELLOW}⬢${NC} CO TO JEST FUZZY SEARCH?"
    echo -e "${CYAN}║${NC}"
    echo -e "${CYAN}║${NC}   Fuzzy search to inteligentne wyszukiwanie, które znajduje wyniki"
    echo -e "${CYAN}║${NC}   nawet jeśli wpiszesz tylko część słowa lub zrobisz literówkę."
    echo -e "${CYAN}║${NC}   Nie musisz pamiętać całej nazwy - wystarczy kilka liter!"
    echo -e "${CYAN}║${NC}"
    echo -e "${CYAN}║${NC} ${YELLOW}⬢${NC} SKRÓTY KLAWISZOWE"
    echo -e "${CYAN}║${NC}"
    echo -e "${CYAN}║${NC}   ${GREEN}Ctrl+F${NC}       - Zaakceptuj szarą podpowiedź z historii"
    echo -e "${CYAN}║${NC}                  Kiedy piszesz komendę i widzisz szary tekst - naciśnij Ctrl+F"
    echo -e "${CYAN}║${NC}                  żeby go zatwierdzić. Oszczędza masę czasu!"
    echo -e "${CYAN}║${NC}"
    echo -e "${CYAN}║${NC}   ${GREEN}→ (strzałka)${NC} - Zaakceptuj całą linię podpowiedzi"
    echo -e "${CYAN}║${NC}                  Podobnie jak Ctrl+F ale zatwierdza od razu całą linię."
    echo -e "${CYAN}║${NC}"
    echo -e "${CYAN}║${NC}   ${GREEN}Ctrl+P${NC}       - Poprzednia komenda w historii"
    echo -e "${CYAN}║${NC}                  Idź wstecz po historii swoich komend (jak strzałka w górę)."
    echo -e "${CYAN}║${NC}"
    echo -e "${CYAN}║${NC}   ${GREEN}Ctrl+N${NC}       - Następna komenda w historii"
    echo -e "${CYAN}║${NC}                  Idź do przodu po historii (jak strzałka w dół)."
    echo -e "${CYAN}║${NC}"
    echo -e "${CYAN}║${NC}   ${GREEN}Ctrl+R${NC}       - Szukaj w historii komend (fuzzy search)"
    echo -e "${CYAN}║${NC}                  Naciśnij Ctrl+R i zacznij pisać - wyświetli się lista"
    echo -e "${CYAN}║${NC}                  wszystkich komend zawierających wpisany tekst. Mega pomocne!"
    echo -e "${CYAN}║${NC}"
    echo -e "${CYAN}║${NC}   ${GREEN}Ctrl+T${NC}       - Szukaj plików (fuzzy search)"
    echo -e "${CYAN}║${NC}                  Otwiera okno wyszukiwania plików w bieżącym katalogu."
    echo -e "${CYAN}║${NC}                  Zacznij pisać nazwę - od razu znajdzie plik."
    echo -e "${CYAN}║${NC}"
    echo -e "${CYAN}║${NC}   ${GREEN}Alt+C${NC}        - Szukaj katalogów (fuzzy search)"
    echo -e "${CYAN}║${NC}                  Podobnie jak Ctrl+T ale szuka tylko folderów."
    echo -e "${CYAN}║${NC}                  Wybierz folder - automatycznie zrobi 'cd' do niego."
    echo -e "${CYAN}║${NC}"
    echo -e "${CYAN}║${NC}   ${GREEN}Tab${NC}          - Inteligentne uzupełnianie z podglądem"
    echo -e "${CYAN}║${NC}                  Zacznij pisać komendę/ścieżkę i naciśnij Tab - pokaże"
    echo -e "${CYAN}║${NC}                  listę możliwości z podglądem zawartości katalogów!"
    echo -e "${CYAN}║${NC}"
    echo -e "${CYAN}║${NC}   ${GREEN}ESC ESC${NC}      - Dodaj 'sudo' na początku komendy"
    echo -e "${CYAN}║${NC}                  Napisałeś komendę i zapomniałeś sudo? Naciśnij 2x ESC"
    echo -e "${CYAN}║${NC}                  - doda sudo na początku automatycznie."
    echo -e "${CYAN}║${NC}"
    echo -e "${CYAN}║${NC} ${YELLOW}⬢${NC} NOWOCZESNE ALIASY"
    echo -e "${CYAN}║${NC}"
    echo -e "${CYAN}║${NC}   ${GREEN}ls/ll/la/lt${NC}  - Ulepszone listowanie plików (z ikonkami)"
    echo -e "${CYAN}║${NC}                  ls = zwykła lista, ll = długa lista, la = ze ukrytymi,"
    echo -e "${CYAN}║${NC}                  lt = struktura drzewa katalogów"
    echo -e "${CYAN}║${NC}"
    echo -e "${CYAN}║${NC}   ${GREEN}c / cls${NC}      - Wyczyść ekran"
    echo -e "${CYAN}║${NC}                  Szybki sposób na wyczyszczenie terminala."
    echo -e "${CYAN}║${NC}"
    echo -e "${CYAN}║${NC}   ${GREEN}.. / ...${NC}     - Przejdź do katalogu wyżej"
    echo -e "${CYAN}║${NC}                  .. = jeden katalog wyżej, ... = dwa katalogi wyżej"
    echo -e "${CYAN}║${NC}"
    echo -e "${CYAN}║${NC}   ${GREEN}myip${NC}         - Pokaż swoje zewnętrzne IP"
    echo -e "${CYAN}║${NC}                  Sprawdzi jaki masz publiczny adres IP w internecie."
    echo -e "${CYAN}║${NC}"
    echo -e "${CYAN}║${NC}   ${GREEN}ports${NC}        - Lista otwartych portów TCP"
    echo -e "${CYAN}║${NC}                  Pokaże wszystkie programy słuchające na portach."
    echo -e "${CYAN}║${NC}"
    echo -e "${CYAN}║${NC} ${YELLOW}⬢${NC} SKRÓTY GITA"
    echo -e "${CYAN}║${NC}"
    echo -e "${CYAN}║${NC}   ${GREEN}glog${NC}         - Ładny graf historii commitów"
    echo -e "${CYAN}║${NC}                  Pokaże całą historię commitów jako drzewo z gałęziami."
    echo -e "${CYAN}║${NC}"
    echo -e "${CYAN}║${NC}   ${GREEN}gundo${NC}        - Cofnij ostatni commit (zmiany zostają)"
    echo -e "${CYAN}║${NC}                  Przydatne gdy zrobiłeś commit za wcześnie - cofnie commit"
    echo -e "${CYAN}║${NC}                  ale twoje zmiany w plikach pozostaną."
    echo -e "${CYAN}║${NC}"
    echo -e "${CYAN}║${NC}   ${GREEN}gwip${NC}         - Szybki commit WIP (Work In Progress)"
    echo -e "${CYAN}║${NC}                  Zapisze wszystko jako tymczasowy commit o nazwie 'WIP'."
    echo -e "${CYAN}║${NC}"
    echo -e "${CYAN}║${NC}   ${GREEN}gcommit <msg>${NC} - Dodaj wszystko i zrób commit"
    echo -e "${CYAN}║${NC}                  Np: gcommit fixed login bug"
    echo -e "${CYAN}║${NC}                  Doda wszystkie zmiany i commituje z twoją wiadomością."
    echo -e "${CYAN}║${NC}"
    echo -e "${CYAN}║${NC} ${YELLOW}⬢${NC} PRZYDATNE FUNKCJE"
    echo -e "${CYAN}║${NC}"
    echo -e "${CYAN}║${NC}   ${GREEN}mkcd <katalog>${NC}   - Stwórz katalog i od razu wejdź do niego"
    echo -e "${CYAN}║${NC}                      Zamiast: mkdir test && cd test"
    echo -e "${CYAN}║${NC}                      Po prostu: mkcd test"
    echo -e "${CYAN}║${NC}"
    echo -e "${CYAN}║${NC}   ${GREEN}backup <plik>${NC}    - Zrób kopię pliku z datą"
    echo -e "${CYAN}║${NC}                      Skopiuje plik jako plik.backup-20250109-143022"
    echo -e "${CYAN}║${NC}"
    echo -e "${CYAN}║${NC}   ${GREEN}ex <archiwum>${NC}    - Rozpakuj KAŻDE archiwum"
    echo -e "${CYAN}║${NC}                      Działa z .zip, .tar.gz, .rar, .7z itd."
    echo -e "${CYAN}║${NC}                      Nie musisz pamiętać komend do rozpakowywania!"
    echo -e "${CYAN}║${NC}"
    echo -e "${CYAN}║${NC}   ${GREEN}killport <numer>${NC} - Zabij proces na danym porcie"
    echo -e "${CYAN}║${NC}                      Np: killport 3000"
    echo -e "${CYAN}║${NC}                      Zabije wszystko co słucha na porcie 3000."
    echo -e "${CYAN}║${NC}"
    echo -e "${CYAN}║${NC}   ${GREEN}z <katalog>${NC}      - Inteligentne cd (pamięta najczęściej używane)"
    echo -e "${CYAN}║${NC}                      Zamiast: cd /var/www/html/long/path"
    echo -e "${CYAN}║${NC}                      Możesz: z html (jeśli tam często chodzisz)"
    echo -e "${CYAN}║${NC}"
    echo -e "${CYAN}║${NC} ${YELLOW}⬢${NC} SUPERMOCE ZSH"
    echo -e "${CYAN}║${NC}"
    echo -e "${CYAN}║${NC}   ${GREEN}Kolorowanie składni${NC}        - Komendy zmieniają kolor na żywo"
    echo -e "${CYAN}║${NC}                                    Zielony = komenda istnieje, czerwony = błąd"
    echo -e "${CYAN}║${NC}"
    echo -e "${CYAN}║${NC}   ${GREEN}Autosugestie${NC}               - Szary tekst z historii pojawia się sam"
    echo -e "${CYAN}║${NC}                                    System podpowiada ci komendy które już używałeś"
    echo -e "${CYAN}║${NC}"
    echo -e "${CYAN}║${NC}   ${GREEN}Inteligentne uzupełnianie${NC}  - Tab wie czego potrzebujesz"
    echo -e "${CYAN}║${NC}                                    Uzupełnia komendy, ścieżki, argumenty"
    echo -e "${CYAN}║${NC}"
    echo -e "${CYAN}║${NC}   ${GREEN}Fuzzy search wszędzie${NC}      - Szukaj plików/komend błyskawicznie"
    echo -e "${CYAN}║${NC}                                    Zintegrowane z każdą funkcją shella"
    echo -e "${CYAN}║${NC}"
    echo -e "${CYAN}╚═══════════════════[${GRAY}made with <3 kofany & yooz${CYAN}]${NC}"
    exit 0
fi

# English version (default)
echo -e "${CYAN}╔═══[${YELLOW}⚡ tahioN SHELL MATRIX ⚡${CYAN}]${NC}"
echo -e "${CYAN}║${NC}"
echo -e "${PRM}${YELLOW}ℹ${NC}  For detailed Polish guide type: ${MAGENTA}tahion pl${NC}"
echo -e "${CYAN}║${NC}"

# Keyboard shortcuts section
echo -e "${PRM}${YELLOW}⬢${NC} KEYBOARD SHORTCUTS"
echo -e "${CYAN}║${NC}"
echo -e "${PRM}  ${GREEN}Ctrl+F${NC}       - Accept suggestion from history (ghost text)"
echo -e "${PRM}  ${GREEN}→ (arrow)${NC}    - Accept full autosuggestion line"
echo -e "${PRM}  ${GREEN}Ctrl+P${NC}       - Previous command in history"
echo -e "${PRM}  ${GREEN}Ctrl+N${NC}       - Next command in history"
echo -e "${PRM}  ${GREEN}Ctrl+R${NC}       - Fuzzy search command history (fzf)"
echo -e "${PRM}  ${GREEN}Ctrl+T${NC}       - Fuzzy search files (fzf)"
echo -e "${PRM}  ${GREEN}Alt+C${NC}        - Fuzzy search directories (fzf)"
echo -e "${PRM}  ${GREEN}Tab${NC}          - Smart completion with preview"
echo -e "${PRM}  ${GREEN}ESC ESC${NC}      - Add 'sudo' to current command"
echo -e "${CYAN}║${NC}"

# Aliases section
echo -e "${PRM}${YELLOW}⬢${NC} MODERN CLI ALIASES"
echo -e "${CYAN}║${NC}"
echo -e "${PRM}  ${GREEN}ls/ll/la/lt${NC}  - Enhanced listing with eza (icons)"
echo -e "${PRM}  ${GREEN}c / cls${NC}      - Clear screen"
echo -e "${PRM}  ${GREEN}.. / ...${NC}     - Navigate up directories"
echo -e "${PRM}  ${GREEN}myip${NC}         - Show external IP address"
echo -e "${PRM}  ${GREEN}ports${NC}        - List open TCP ports"
echo -e "${CYAN}║${NC}"

# Git shortcuts section
echo -e "${PRM}${YELLOW}⬢${NC} GIT SHORTCUTS"
echo -e "${CYAN}║${NC}"
echo -e "${PRM}  ${GREEN}glog${NC}         - Beautiful git log graph"
echo -e "${PRM}  ${GREEN}gundo${NC}        - Undo last commit (keep changes)"
echo -e "${PRM}  ${GREEN}gwip${NC}         - Quick WIP commit"
echo -e "${PRM}  ${GREEN}gcommit <msg>${NC} - Add all & commit with message"
echo -e "${CYAN}║${NC}"

# Functions section
echo -e "${PRM}${YELLOW}⬢${NC} UTILITY FUNCTIONS"
echo -e "${CYAN}║${NC}"
echo -e "${PRM}  ${GREEN}mkcd <dir>${NC}   - Create directory and cd into it"
echo -e "${PRM}  ${GREEN}backup <file>${NC} - Backup file with timestamp"
echo -e "${PRM}  ${GREEN}ex <archive>${NC} - Universal archive extractor"
echo -e "${PRM}  ${GREEN}killport <N>${NC} - Kill process on port N"
echo -e "${PRM}  ${GREEN}z <dir>${NC}      - Smart cd with frecency (zoxide)"
echo -e "${CYAN}║${NC}"

# Plugins section
echo -e "${PRM}${YELLOW}⬢${NC} ZSH SUPERPOWERS"
echo -e "${CYAN}║${NC}"
echo -e "${PRM}  ${GREEN}Syntax Highlighting${NC} - Commands colored in real-time"
echo -e "${PRM}  ${GREEN}Auto Suggestions${NC}    - Ghost text from history"
echo -e "${PRM}  ${GREEN}Smart Completion${NC}    - Context-aware tab completion"
echo -e "${PRM}  ${GREEN}Fuzzy Search${NC}        - fzf integration everywhere"
echo -e "${CYAN}║${NC}"

# Footer
echo -e "${CYAN}╚═══════════════════[${GRAY}made with <3 kofany & yooz${CYAN}]${NC}"

exit 0
